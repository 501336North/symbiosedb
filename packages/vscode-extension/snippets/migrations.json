{
  "Migration Template": {
    "prefix": "migration",
    "body": [
      "/**",
      " * Migration: ${1:description}",
      " * Generated at: ${CURRENT_YEAR}-${CURRENT_MONTH}-${CURRENT_DATE}T${CURRENT_HOUR}:${CURRENT_MINUTE}:${CURRENT_SECOND}Z",
      " */",
      "",
      "import { PostgreSQLConnector } from '@symbiosedb/core';",
      "",
      "export async function up({ sql }: { sql: PostgreSQLConnector }): Promise<void> {",
      "  ${2:// Write your migration code here}",
      "}",
      "",
      "export async function down({ sql }: { sql: PostgreSQLConnector }): Promise<void> {",
      "  ${3:// Write your rollback code here}",
      "}"
    ],
    "description": "Create a new migration file template"
  },
  "Create Table Migration": {
    "prefix": "migration-create-table",
    "body": [
      "/**",
      " * Migration: create_${1:table_name}_table",
      " */",
      "",
      "import { PostgreSQLConnector } from '@symbiosedb/core';",
      "",
      "export async function up({ sql }: { sql: PostgreSQLConnector }): Promise<void> {",
      "  await sql.query(`",
      "    CREATE TABLE ${1:table_name} (",
      "      id SERIAL PRIMARY KEY,",
      "      ${2:column_name} ${3:VARCHAR(255)} ${4:NOT NULL},",
      "      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,",
      "      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
      "    );",
      "  `);",
      "}",
      "",
      "export async function down({ sql }: { sql: PostgreSQLConnector }): Promise<void> {",
      "  await sql.query(`DROP TABLE IF EXISTS ${1:table_name};`);",
      "}"
    ],
    "description": "Create table migration template"
  },
  "Add Column Migration": {
    "prefix": "migration-add-column",
    "body": [
      "/**",
      " * Migration: add_${1:column_name}_to_${2:table_name}",
      " */",
      "",
      "import { PostgreSQLConnector } from '@symbiosedb/core';",
      "",
      "export async function up({ sql }: { sql: PostgreSQLConnector }): Promise<void> {",
      "  await sql.query(`",
      "    ALTER TABLE ${2:table_name}",
      "    ADD COLUMN ${1:column_name} ${3:VARCHAR(255)} ${4:NOT NULL};",
      "  `);",
      "}",
      "",
      "export async function down({ sql }: { sql: PostgreSQLConnector }): Promise<void> {",
      "  await sql.query(`",
      "    ALTER TABLE ${2:table_name}",
      "    DROP COLUMN ${1:column_name};",
      "  `);",
      "}"
    ],
    "description": "Add column migration template"
  },
  "Add Index Migration": {
    "prefix": "migration-add-index",
    "body": [
      "/**",
      " * Migration: add_index_on_${1:column_name}",
      " */",
      "",
      "import { PostgreSQLConnector } from '@symbiosedb/core';",
      "",
      "export async function up({ sql }: { sql: PostgreSQLConnector }): Promise<void> {",
      "  await sql.query(`",
      "    CREATE INDEX idx_${2:table_name}_${1:column_name}",
      "    ON ${2:table_name}(${1:column_name});",
      "  `);",
      "}",
      "",
      "export async function down({ sql }: { sql: PostgreSQLConnector }): Promise<void> {",
      "  await sql.query(`DROP INDEX IF EXISTS idx_${2:table_name}_${1:column_name};`);",
      "}"
    ],
    "description": "Add index migration template"
  }
}
